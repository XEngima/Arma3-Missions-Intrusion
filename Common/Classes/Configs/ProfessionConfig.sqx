/*
 * Name:	DefaultGameSettings
 * Date:	2017-11-18
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * A class that contains all relevant settings for professions.
 */
namespace Intrusion.Common
{
	public class ProfessionConfig {
        // Field(s):
		// _mProfessions (Array): All professions as an array of Profession objects.
		private static fields ["_mProfessions" as Array];

        // Initializes the profession config. Initializes all professions.
        public static method Init {
        	_mProfessions = [
        		[ProfessionType.Infantry, "Infantry", -1, 1, 10, "o_inf"] new Profession,
			    [ProfessionType.Transport, "Transport Service", 1, 1, 1, "o_inf"] new Profession,
			    [ProfessionType.Fuel, "Fuel Service", 1, 1, 2, "o_inf"] new Profession,
			    [ProfessionType.Ammo, "Ammo Service, ", 1, 1, 2, "o_inf"] new Profession,
			    [ProfessionType.Repair, "Repair Service", 1, 1, 2, "o_inf"] new Profession,
			    [ProfessionType.Motorized, "Motorized Infantry", 3, 2, 10, "o_inf"] new Profession,
			    [ProfessionType.AntiArmor, "Anti Armor", 2, 1, 2, "o_inf"] new Profession,
			    [ProfessionType.Mechanized, "Mechanized Infantry", 2, 3, 10, "o_inf"] new Profession,
			    [ProfessionType.Armored, "Armored Troops", 1, 2, 9, "o_inf"] new Profession
        	];
		};
		
		// Gets a profession by profession type.
		// _professionType (ProfessionType): Profession type.
		// Returns (Profession): The sought profession. null if the profession type was invalid.
		public static method Array GetVehicleClassNames {
			params ["_professionType" as ProfessionType];
			scopeName "main";
			
			{
				if (_x.Type == _professionType) then {
					_x breakOut "main";
				};
			} foreach _mProfessions as Profession;
			
			classNull
		};
		
		// Gets a profession.
		// _professionType (ProfessionType): The profession type.
		// Returns (Profession): The sought profession. classNull if the profession was not found.
		public static method Profession GetProfession {
			params ["_professionType" as ProfessionType];
			[(str _this) + " ProfessionConfig.GetProfession"] call LogHandler.Debug;

			scopeName "main";
			
			{
				private ["_profession" as Profession];
				_profession = _x;
				
				if (_profession.Type == _professionType) then {
					_profession breakOut "main";
				};
			} foreach _mProfessions as Profession;
			
			classNull
		};
		
		// Gets all professions.
		public static method Array GetAllProfessions {
			_mProfessions
		};
	};
};
