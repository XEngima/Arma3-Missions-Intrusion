/*
 * Name:	IntrusionServer
 * Date:	2019-02-01
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * Contains "global" server objects and services.
 */

using Intrusion.Common;

namespace Intrusion.Server
{
	public class IntrusionServer
	{
		// Creates a IntrusionServer object.
		public constructor() {
			_self.MessageHandler = new MessageHandler;
			_self.VehicleSpawner = [gServerConfig.VehicleClassNames, gCommonConfig.MapMarkers] new VehicleSpawner;
			_self.InventedTechnologiesCollection = new InventedTechnologiesCollection;
			_self.TargetHandler = [gCommonConfig.Professions, _self.InventedTechnologiesCollection] new TargetHandler;
			_self.UnitCounter = [gServerConfig.Gameplay] new UnitCounter;
			_self.SquadHandler = [_self.VehicleSpawner, gCommonConfig.Professions] new SquadHandler;
			_self.BrigadeLeadershipHandler = [_self.MessageHandler] new BrigadeLeadershipHandler;
		};
	
		public property IMessageHandler MessageHandler { get; private set; };
		public property IVehicleSpawner VehicleSpawner { get; private set; };
		public property TargetHandler TargetHandler { get; private set; };
		public property InventedTechnologiesCollection InventedTechnologiesCollection { get; private set; };
		public property IUnitCounter UnitCounter { get; private set; };
		public property SquadHandler SquadHandler { get; private set; };
		public property BrigadeLeadershipHandler BrigadeLeadershipHandler { get; private set; };
	};
};
