/*
 * Name:	SideMarkersConfig
 * Date:	2017-11-25
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * Contains config information about a side.
 */
using Intrusion.Common;

namespace Intrusion.Server
{
	public class SideMarkersConfig
	{
		private static fields ["_mSideInfos" as Array];
	
		// Initializes a SideMarkersConfig object.
		public static method Init {
			_mSideInfos = [
				[west, "respawn_west", "INT_CarParkWest", "\A3\Data_F\Flags\Flag_NATO_CO.paa"] new SideMarkerInfo,
				[east, "respawn_east", "INT_CarParkEast", "\A3\Data_F\Flags\Flag_CSAT_CO.paa"] new SideMarkerInfo
			];
			
			_self.WinnersLocationMarkerType = "hd_flag";
		};
		
		// Gets the marker type of the winners marker type.
		public static property String WinnersLocationMarkerType { get; private set; };
		
		// Gets a mission side info config object.
		// _side (Side): The side of the config object.
		// Returns (MissionSideInfo): A mission side config object.
		public static method GetSideMarkerInfo {
			params ["_side" as Side];
			private ["_info" as SideMarkerInfo];
			[str _this + " MapMarkersInfo.SideMarkersInfo"] call LogHandler.Debug;

			scopeName "main";
			_info = classNull;
			
			{
				if (_x.Side == _side) then {
					_x breakOut "main";
				};
			} foreach _mSideInfos as SideMarkerInfo;
			
			_info
		};
	};
};
